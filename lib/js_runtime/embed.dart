const jsRuntimePolyfill = r'''// @bun
(()=>{function s(e){Object.assign(globalThis,e)}s({btoa:b,atob:R});function b(e){let t=Uint8Array.from(e,(r)=>r.charCodeAt(0)),n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return v(n)}function R(e){return I(e)}function v(e){let n="",r=0;while(r<e.length){let o=e.charCodeAt(r++)&255,i=e.charCodeAt(r++),a=e.charCodeAt(r++),c=o>>2,d=(o&3)<<4|i>>4,h=isNaN(i)?64:(i&15)<<2|a>>6,p=isNaN(a)?64:a&63;n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p)}return n}function I(e){let n="",r=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(r<e.length){let o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),d=o<<2|i>>4,h=(i&15)<<4|a>>2,p=(a&3)<<6|c;if(n+=String.fromCharCode(d),a!=64)n+=String.fromCharCode(h);if(c!=64)n+=String.fromCharCode(p)}return n}s({base64Encode:U,base64Decode:$});function U(e){let t=String.fromCharCode(...e);return b(t)}function $(e){let t=R(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var u=new Map;function C(e,t){let n=u.get(e);if(!n)n=new Set,u.set(e,n);n.add(t)}function E(e,t){u.get(e)?.delete(t)}function S(e,t){u.get(e)?.forEach((n)=>{try{n(t)}catch(r){console.error("Error in message listener for event:",e,r)}})}s({addEventListener:C,removeEventListener:E,__$$DART_SEND_MESSAGE$$__:S});class g{map;constructor(e={}){if(this.map={},e instanceof g){e.forEach((t,n)=>{this.map[n.toLowerCase()]=t});return}else for(let t in e)this.map[t.toLowerCase()]=e[t]}get(e){return this.map[e.toLowerCase()]??null}has(e){return e.toLowerCase()in this.map}keys(){return Object.keys(this.map)}entries(){return Object.entries(this.map)}forEach(e){for(let[t,n]of this.entries())e(n,t,this)}}s({$Headers:g});class x{params=new Map;constructor(e){if(e.startsWith("?"))e=e.slice(1);for(let t of e.split("&")){if(!t)continue;let[n,r]=t.split("="),o=decodeURIComponent(n||""),i=decodeURIComponent(r||"");if(!this.params.has(o))this.params.set(o,[]);this.params.get(o).push(i)}}get(e){let t=this.params.get(e);return t?t[0]:null}getAll(e){return this.params.get(e)||[]}has(e){return this.params.has(e)}toString(){let e=[];for(let[t,n]of this.params.entries())for(let r of n)e.push(`${encodeURIComponent(t)}=${encodeURIComponent(r)}`);return e.join("&")}}s({URLSearchParams:x});class m{href;origin;protocol;hostname;port;pathname;search;hash;searchParams;constructor(e,t){let n=O(e,t),r=k(n);this.href=n,this.origin=r.origin,this.protocol=r.protocol,this.hostname=r.hostname,this.port=r.port,this.pathname=r.pathname,this.search=r.search,this.hash=r.hash,this.searchParams=new x(this.search)}toString(){return this.href}toJSON(){return this.href}}s({URL:m});function O(e,t){if(!t||/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e))return e;if(t.endsWith("/"))return t+e;else return t.replace(/\/[^/]*$/,"/")+e}function k(e){let t=/^(?<protocol>[a-z]+:)?\/\/(?<hostname>[^:/?#]+)?(?::(?<port>\d+))?(?<pathname>[^?#]*)?(?<search>\?[^#]*)?(?<hash>#.*)?$/i,r=e.match(t)?.groups||{},o=r.protocol||"",i=r.hostname||"",a=r.port||"",c=r.pathname||"/",d=r.search||"",h=r.hash||"",p=o&&i?`${o}//${i}${a?":"+a:""}`:"";return{protocol:o,hostname:i,port:a,pathname:c,search:d,hash:h,origin:p}}class l{url;method;headers;body;constructor(e,t={}){this.url=typeof e==="string"?e:e instanceof m?e.toString():e.url,this.method=(t.method||(typeof e.method==="string"?e.method:"GET")).toUpperCase(),this.headers=new g(t.headers||(typeof e!=="string"&&!(e instanceof m)?e.headers:{})),this.body=t.body??(typeof e!=="string"&&!(e instanceof m)?e.body:null)}clone(){return new l(this.url,{method:this.method,headers:this.headers,body:this.body})}}s({Request:l});class y{#e;status;statusText;headers;url;ok;constructor(e,t={}){this.#e=e,this.status=t.status??200,this.statusText=t.statusText??"",this.headers=new g(t.headers||{}),this.url=t.url??"",this.ok=this.status>=200&&this.status<300}async text(){return atob(this.#e)}async json(){return JSON.parse(await this.text())}async arrayBuffer(){let e=atob(this.#e),t=e.length,n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);return n.buffer}}s({Response:y});async function A(e,t){let n=e instanceof l?e:new l(e,t),r="fetch_"+Math.random().toString(36).slice(2),o="response:"+r;return new Promise((i,a)=>{let c=(d)=>{if(E(o,c),d.__fetch_error__)a(new Error(d?.__fetch_error__));else{let h=new y(d.__body,{status:d.status,statusText:d.statusText,headers:d.headers,url:d.url});i(h)}};C(o,c),sendMessage("dart_fetch_request",JSON.stringify({id:r,url:n.url,options:{method:n.method,headers:Object.fromEntries(n.headers.entries()),body:n.body}}))})}s({fetch:A});class _{constructor(e="utf-8"){if(e.toLowerCase()!=="utf-8")throw new Error("Only utf-8 TextDecoder is supported")}decode(e){if(!(e instanceof Uint8Array))e=new Uint8Array(e);let t="",n=0;while(n<e.length){let r=e[n++];if(r<128)t+=String.fromCharCode(r);else if(r>=192&&r<224){let o=e[n++];t+=String.fromCharCode((r&31)<<6|o&63)}else if(r>=224&&r<240){let o=e[n++],i=e[n++];t+=String.fromCharCode((r&15)<<12|(o&63)<<6|i&63)}else if(r>=240){let o=e[n++],i=e[n++],a=e[n++],c=(r&7)<<18|(o&63)<<12|(i&63)<<6|a&63;c-=65536,t+=String.fromCharCode(55296+(c>>10),56320+(c&1023))}}return t}}s({TextDecoder:_});class w{encode(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(192|r>>6),t.push(128|r&63);else if(r<55296||r>=57344)t.push(224|r>>12),t.push(128|r>>6&63),t.push(128|r&63);else{if(n++,n>=e.length)throw new Error("Invalid surrogate pair");let o=e.charCodeAt(n),i=(r-55296<<10)+(o-56320)+65536;t.push(240|i>>18),t.push(128|i>>12&63),t.push(128|i>>6&63),t.push(128|i&63)}}return new Uint8Array(t)}}s({TextEncoder:w});class T extends Error{name="UnimplementedError"}s({UnimplementedError:T});class f{static UNSENT=0;static OPENED=1;static HEADERS_RECEIVED=2;static LOADING=3;static DONE=4;readyState=f.UNSENT;status=0;statusText="";responseText="";responseType="";response=null;onreadystatechange=null;method="";url="";_async=!0;headers={};body=null;open(e,t,n=!0){this.method=e.toUpperCase(),this.url=t,this._async=n,this.readyState=f.OPENED,this._triggerReadyStateChange()}setRequestHeader(e,t){this.headers[e]=t}send(e=null){this.body=e;let t={method:this.method,headers:this.headers,body:e};A(this.url,t).then(async(n)=>{this.status=n.status,this.statusText=n.statusText,this.readyState=f.HEADERS_RECEIVED,this._triggerReadyStateChange(),this.readyState=f.LOADING,this._triggerReadyStateChange(),this.responseText=await n.text(),this.response=this.responseType==="json"?JSON.parse(this.responseText):this.responseText,this.readyState=f.DONE,this._triggerReadyStateChange()}).catch((n)=>{this.status=0,this.statusText=n.message,this.readyState=f.DONE,this._triggerReadyStateChange()})}abort(){this.status=0,this.statusText="abort",this.readyState=f.DONE,this._triggerReadyStateChange()}getAllResponseHeaders(){return""}getResponseHeader(e){return null}_triggerReadyStateChange(){if(typeof this.onreadystatechange==="function")try{this.onreadystatechange()}catch(e){console.error("Error in onreadystatechange:",e)}}}s({XMLHttpRequest:f});})();
''';
